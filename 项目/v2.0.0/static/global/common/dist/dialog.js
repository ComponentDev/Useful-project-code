define("static/global/common/2.0.0/dialog",[],function(){return function(a){a.extend({dialog_defaults:{title:"Title",imagelist:'img[data-class="lightbox"]',isFixed:!0,hideCloseButton:!1,content:null,callback:null},dialog_config:{windows:a(window),lightbox:'.dialog-lightbox[data-class="dialog-lightbox"]',section:'.dialog-lightbox-section[data-class="dialog-lightbox-section"]',imageTag:'.dialog-lightbox-list-image[data-class="dialog-lightbox-list-image"]',imageData:{},width:0,height:0,left:0,top:0,paddingWidth:0,paddingHeight:0},dialog_block:function(b){b.content?a.dialog_dialog(b):a.dialog_lightbox(b),a.dialog_config.windows.on("resize",function(){a.dialog_settings(a.dialog_config.section)}),a('.dialog-lightbox-close[data-class="dialog-lightbox-close"]').on("click",function(){a.dialog_unblock()})},dialog_unblock:function(){var b=a(a.dialog_config.lightbox),c=a(a.dialog_config.section);a.dialog_defaults.isFixed?c.animate({marginTop:-(a.dialog_config.top-150),opacity:0}):c.animate({top:a.dialog_config.top+150,opacity:0}),b.fadeOut(function(){b.remove(),c.remove()})},dialog_dialog:function(b){a.dialog_install(b),a.dialog_settings(a.dialog_config.section,!0,!0)},dialog_lightbox:function(b){var c=b.clickObj.attr("data-src");a.dialog_config.now=0,a.dialog_install(b),a.dialog_getImages_src(a.dialog_defaults.imagelist),a.dialog_loadImage(c,!0,a.dialog_settings),a.dialog_getNow(c),a('.dialog-lightbox-prev[data-class="dialog-lightbox-prev"]').on("click",function(){a.dialog_switchImage(!1,!1)}),a('.dialog-lightbox-next[data-class="dialog-lightbox-next"]').on("click",function(){a.dialog_switchImage(!0,!1)})},dialog_install:function(b){a.dialog_defaults=a.extend({},a.dialog_defaults,b||{});var c=a("body"),d="";if(a.dialog_defaults.content)var e=a.dialog_defaults.content;else var e='<div class="dialog-lightbox-list" data-class="dialog-lightbox-list">	<img src="" class="dialog-lightbox-list-image" data-class="dialog-lightbox-list-image" /></div>	<span class="dialog-lightbox-prev" data-class="dialog-lightbox-prev">&lt;</span><span class="dialog-lightbox-next" data-class="dialog-lightbox-next">&gt;</span>';a.dialog_defaults.hideCloseButton||(d='<span class="dialog-lightbox-close" data-class="dialog-lightbox-close"></span>');var f='<div class="dialog-lightbox" data-class="dialog-lightbox"></div>',g='<div class="dialog-lightbox-section" data-class="dialog-lightbox-section">	<div class="dialog-lightbox-header" data-class="dialog-lightbox-header">		<h2>'+a.dialog_defaults.title+"</h2>"+d+"	</div>"+"	"+'	<div class="dialog-lightbox-body" data-class="dialog-lightbox-body">'+e+"	</div>"+"</div>";c.append(f),c.append(g),a(a.dialog_config.lightbox).fadeIn(),a(a.dialog_config.section).show(),a.dialog_config.paddingWidth=a(a.dialog_config.section).outerWidth(),a.dialog_config.paddingHeight=a(a.dialog_config.section).outerHeight()},dialog_getNow:function(b){for(var c=0,d=a.dialog_config.images.length;d>c;c++)b===a.dialog_config.images[c]&&(a.dialog_config.now=c)},dialog_getImages_src:function(b){var b="string"==typeof b?a(b):b;a.dialog_config.images=[];for(var c=0,d=b.length;d>c;c++){var e=b.eq(c),f=e.attr("data-src"),f=a.trim(f);""!==f&&a.dialog_config.images.push(f)}},dialog_loadImage:function(b,c,d){var e=a(a.dialog_config.section),f=a(a.dialog_config.imageTag),g=new Image;g.src=b,g.onload=function(){a.dialog_config.imageData={width:g.width,height:g.height,src:b},d&&d(e,f,c)}},dialog_switchImage:function(b,c){b?a.dialog_config.now++:a.dialog_config.now--,a.dialog_config.now<0&&(a.dialog_config.now=a.dialog_config.images.length-1),a.dialog_config.now>a.dialog_config.images.length-1&&(a.dialog_config.now=0);var d=a.dialog_config.images[a.dialog_config.now];a.dialog_loadImage(d,c,a.dialog_settings)},dialog_settings:function(b,c,d){var b="string"==typeof b?a(b):b;a.dialog_defaults.content?(a.dialog_config.width=b.width(),a.dialog_config.height=b.height()):(a.dialog_config.width=a.dialog_config.imageData.width,a.dialog_config.height=a.dialog_config.imageData.height);var e=a.dialog_config.width+a.dialog_config.paddingWidth,f=a.dialog_config.height+a.dialog_config.paddingHeight;if("object"==typeof c&&c.hide().attr("src",a.dialog_config.imageData.src).css({width:a.dialog_config.width,height:a.dialog_config.height}).fadeIn(),a.dialog_defaults.isFixed)a.dialog_config.left=Math.floor(e/2),a.dialog_config.top=Math.floor(f/2),b.css({position:"fixed"}),d?b.css({marginLeft:-a.dialog_config.left,marginTop:-a.dialog_config.top}):b.animate({marginLeft:-a.dialog_config.left,marginTop:-a.dialog_config.top},{queue:!1});else{var g=a.dialog_config.windows.scrollLeft(),h=a.dialog_config.windows.scrollTop(),i=a.dialog_config.windows.width(),j=a.dialog_config.windows.height();a.dialog_config.left=Math.floor((i-e)/2)+g,a.dialog_config.top=Math.floor((j-f)/2)+h,b.css({position:"absolute",marginLeft:0,marginTop:0}),d?b.css({left:a.dialog_config.left,top:a.dialog_config.top}):b.animate({left:a.dialog_config.left,top:a.dialog_config.top},{queue:!1})}c&&a.dialog_move(b,d)},dialog_move:function(b,c){a.dialog_defaults.isFixed&&c?b.css({marginTop:-(a.dialog_config.top-150)}).animate({marginTop:-a.dialog_config.top,opacity:1}):c&&b.css({top:a.dialog_config.top+150}).animate({top:a.dialog_config.top,opacity:1}),b.animate({width:a.dialog_config.width,height:a.dialog_config.height},{queue:!1})},dialog_cancelDefault:function(a){a.preventDefault(),a.stopPropagation()}})}});
